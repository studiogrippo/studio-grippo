<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Studio Legale Avv. Andrea Grippo - Diritto Civile, Penale e Amministrativo | Salerno</title>
    <meta name="description" content="Studio legale a Salerno con 25+ anni di esperienza in diritto civile, penale e amministrativo. Metodologie innovative e assistenza professionale per Campania e Basilicata.">
    <meta name="keywords" content="studio legale salerno, avvocato salerno, diritto civile, diritto penale, avvocato campania, consulenza legale">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Studio Legale Grippo Salerno - ProfessionalitÃ  e Metodologie Innovative">
    <meta property="og:description" content="25+ anni di esperienza legale con metodologie innovative per clienti e aziende in Campania e Basilicata">
    <meta property="og:url" content="https://www.studiolegalegrippo.it">
    <meta property="og:type" content="website">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #0a1628;
            --secondary-color: #1e3a5f;
            --accent-color: #00a651;
            --accent-light: #00c961;
            --success-color: #4CAF50;
            --text-dark: #1a1a1a;
            --text-light: #666;
            --bg-light: #fafafa;
            --white: #ffffff;
            --gradient: linear-gradient(135deg, #0a1628 0%, #1e3a5f 100%);
            --accent-gradient: linear-gradient(135deg, #00a651 0%, #00c961 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Header - POSITION RELATIVE per risolvere il problema */
        .header {
            background: var(--white);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: relative;
            width: 100%;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 80px;
        }

        .logo {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo i {
            color: var(--accent-color);
            font-size: 2rem;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 40px;
            align-items: center;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
            padding: 10px 0;
        }

        .nav-link:hover {
            color: var(--accent-color);
        }

        .cta-nav {
            background: var(--accent-gradient);
            color: var(--white) !important;
            padding: 12px 24px !important;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0, 166, 81, 0.2);
        }

        .cta-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 166, 81, 0.3);
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .hamburger {
            width: 25px;
            height: 3px;
            background: var(--primary-color);
            margin: 3px 0;
            transition: 0.3s;
        }

        /* Hero Section */
        .hero {
            background: var(--gradient);
            color: var(--white);
            padding: 120px 0 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 30px;
            position: relative;
            z-index: 2;
        }

        .compliance-badge {
            display: inline-flex;
            align-items: center;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid var(--accent-color);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 2rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 166, 81, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 166, 81, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 166, 81, 0); }
        }

        .hero h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 24px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            margin-bottom: 32px;
            opacity: 0.9;
            font-weight: 300;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-color);
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .btn-primary {
            background: var(--accent-color);
            color: var(--primary-color);
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover {
            background: #ffed4e;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--white);
            padding: 15px 30px;
            border: 2px solid var(--white);
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background: var(--white);
            color: var(--primary-color);
        }

        /* Dashboard */
        .dashboard {
            background: white;
            margin: -60px auto 0;
            max-width: 1200px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            padding: 40px;
            position: relative;
            z-index: 10;
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .dashboard-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .dashboard-subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        .legal-disclaimer {
            background: #f8f9fa;
            border-left: 4px solid var(--secondary-color);
            padding: 20px;
            margin: 30px 0;
            border-radius: 0 8px 8px 0;
        }

        .disclaimer-title {
            font-weight: 600;
            color: var(--secondary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .disclaimer-text {
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.5;
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .tool-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
            border: 1px solid #e8ecf4;
            border-radius: 16px;
            padding: 30px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .tool-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .tool-icon {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        .tool-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-dark);
        }

        .tool-description {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .tool-features {
            list-style: none;
            margin-bottom: 20px;
        }

        .tool-features li {
            padding: 5px 0;
            color: #555;
            font-size: 0.9rem;
        }

        .tool-features li::before {
            content: 'â';
            color: var(--success-color);
            font-weight: bold;
            margin-right: 8px;
        }

        .tool-button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .tool-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 58, 95, 0.3);
        }

        /* Features Section */
        .features {
            padding: 80px 0;
            background: var(--bg-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 30px;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .section-title p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: var(--white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #1e3a5f 0%, #00a651 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            color: var(--white);
        }

        .feature-card h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        /* Services Section */
        .services {
            padding: 80px 0;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .service-card {
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .service-header {
            background: var(--gradient);
            color: var(--white);
            padding: 1.5rem;
            text-align: center;
        }

        .service-header h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .service-content {
            padding: 1.5rem;
        }

        .service-list {
            list-style: none;
            margin: 1rem 0;
        }

        .service-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .service-list li::before {
            content: 'â';
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }

        /* About Section */
        .about {
            padding: 80px 0;
            background: var(--bg-light);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        .about-text h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .about-text p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
            color: var(--text-light);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 2rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
        }

        /* Contact Section */
        .contact {
            padding: 80px 0;
            background: var(--primary-color);
            color: var(--white);
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .contact-form {
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: 12px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-family: inherit;
            font-size: 1rem;
        }

        .form-group textarea {
            height: 120px;
            resize: vertical;
        }

        .contact-info h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .contact-item i {
            font-size: 1.2rem;
            color: var(--accent-color);
            width: 20px;
            margin-top: 5px;
        }

        /* Footer */
        .footer {
            background: #0a1628;
            color: var(--white);
            padding: 60px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: var(--accent-color);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
            text-align: center;
            color: rgba(255,255,255,0.6);
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .nav-menu.active {
                display: flex;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: white;
                box-shadow: 0 5px 20px rgba(0,0,0,0.1);
                padding: 1rem;
                gap: 1rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .hero-stats {
                gap: 30px;
            }

            .tools-grid {
                grid-template-columns: 1fr;
            }

            .about-content {
                grid-template-columns: 1fr;
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            #ai-chat-modal {
                width: 100% !important;
                height: 100% !important;
                bottom: 0 !important;
                right: 0 !important;
                border-radius: 0 !important;
            }
        }
        /* MOBILE FIX FORTE */
@media only screen and (max-width: 768px) {
    html, body {
        font-size: 18px !important;
    }
    
    .hero h1 {
        font-size: 28px !important;
        line-height: 1.3 !important;
    }
    
    .hero-subtitle {
        font-size: 16px !important;
    }
    
    .tool-card {
        padding: 25px 15px !important;
    }
    
    .tool-title {
        font-size: 20px !important;
    }
    
    .tool-description, p {
        font-size: 16px !important;
        line-height: 1.6 !important;
    }
    
    .btn-primary, .btn-secondary, .tool-button, button {
        font-size: 18px !important;
        padding: 18px 30px !important;
    }
    
    .dashboard {
        margin: -20px 5px 0 !important;
        padding: 20px 10px !important;
    }
    
    .container {
        padding: 0 15px !important;
    }
}    
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <a href="#home" class="logo">
                <i class="fas fa-balance-scale"></i>
                Studio Legale Grippo
            </a>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link">Home</a></li>
                <li><a href="#strumenti" class="nav-link">Strumenti</a></li>
                <li><a href="#servizi" class="nav-link">Servizi</a></li>
                <li><a href="#chi-siamo" class="nav-link">Chi Siamo</a></li>
                <li><a href="#contatti" class="nav-link">Contatti</a></li>
            </ul>
            <a href="#contatti" class="cta-nav">Prima Consulenza</a>
            <div class="mobile-menu-toggle">
                <div class="hamburger"></div>
                <div class="hamburger"></div>
                <div class="hamburger"></div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="compliance-badge">
                <i class="fas fa-lightbulb"></i>
                &nbsp; METODOLOGIE INNOVATIVE
            </div>
            <h1>ProfessionalitÃ  e Metodologie Innovative</h1>
            <p class="hero-subtitle">
                Studio legale con competenze tradizionali e strumenti moderni per offrire 
                ai nostri clienti soluzioni efficienti nel rispetto della massima professionalitÃ .
            </p>
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-number">25+</span>
                    <span class="stat-label">Anni di esperienza</span>
                </div>
                <div class="stat">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">ReperibilitÃ  clienti</span>
                </div>
                <div class="stat">
                    <span class="stat-number">3</span>
                    <span class="stat-label">Aree di specializzazione</span>
                </div>
                <div class="stat">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">ProfessionalitÃ </span>
                </div>
            </div>
            
            <div class="hero-buttons">
                <a href="#strumenti" class="btn-primary">
                    <i class="fas fa-tools"></i>
                    I Nostri Strumenti
                </a>
                <a href="#contatti" class="btn-secondary">Richiedi Consulenza</a>
            </div>
        </div>
    </section>

    <!-- Strumenti Professionali -->
    <section id="strumenti" class="dashboard">
        <div class="dashboard-header">
            <h2 class="dashboard-title">Strumenti di Supporto Professionale</h2>
            <p class="dashboard-subtitle">
                Utilizziamo tecnologie moderne per offrire ai nostri clienti 
                un servizio piÃ¹ efficiente e trasparente
            </p>
        </div>

        <div class="legal-disclaimer">
            <div class="disclaimer-title">
                <i class="fas fa-info-circle"></i>
                Informativa Deontologica
            </div>
            <p class="disclaimer-text">
                In conformitÃ  all'art. 17 del Codice Deontologico Forense, si precisa che gli strumenti 
                qui presentati sono di supporto all'attivitÃ  professionale e non costituiscono garanzia 
                di risultato. Ogni caso presenta specificitÃ  che richiedono valutazione individuale.
            </p>
        </div>

        <div class="tools-grid">
            <!-- AI Chatbot Card -->
            <div class="tool-card" style="border: 2px solid #00a651; background: linear-gradient(135deg, #f0faf5 0%, #ffffff 100%);" onclick="openAIChat()" tabindex="0" role="button" aria-label="Assistente AI Legale">
                <div style="position: absolute; top: 15px; right: 15px; background: #00a651; color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">
                    NUOVO
                </div>
                <i class="fas fa-robot tool-icon" style="color: #00a651;"></i>
                <h3 class="tool-title">Assistente AI Legale</h3>
                <p class="tool-description">
                    Chatbot AI disponibile 24/7 per rispondere a domande legali preliminari 
                    e fornire orientamento immediato sul tuo caso.
                </p>
                <ul class="tool-features">
                    <li>Risposte immediate 24/7</li>
                    <li>Orientamento legale preliminare</li>
                    <li>Analisi prima del caso</li>
                    <li>Preparazione documenti base</li>
                </ul>
                <button class="tool-button" style="background: linear-gradient(135deg, #00a651 0%, #00c961 100%); color: white;">
                    <i class="fas fa-comments"></i> Avvia Chat AI
                </button>
            </div>

            <div class="tool-card" onclick="openConsultation('analisi-documenti')" tabindex="0" role="button" aria-label="Strumento: Analisi Documentale">
                <i class="fas fa-file-contract tool-icon"></i>
                <h3 class="tool-title">Analisi Documentale</h3>
                <p class="tool-description">
                    Supporto nell'analisi preliminare di contratti e documenti legali 
                    per identificare elementi di particolare attenzione.
                </p>
                <ul class="tool-features">
                    <li>Revisione clausole contrattuali</li>
                    <li>Identificazione punti critici</li>
                    <li>Suggerimenti di approfondimento</li>
                    <li>Report di valutazione preliminare</li>
                </ul>
                <button class="tool-button">
                    <i class="fas fa-calendar"></i> Prenota Valutazione
                </button>
            </div>

            <div class="tool-card" onclick="openConsultation('calcolo-risarcimenti')" tabindex="0" role="button" aria-label="Strumento: Valutazione Risarcimenti">
                <i class="fas fa-calculator tool-icon"></i>
                <h3 class="tool-title">Valutazione Risarcimenti</h3>
                <p class="tool-description">
                    Stima orientativa di potenziali risarcimenti basata su tabelle 
                    tribunali e giurisprudenza consolidata.
                </p>
                <ul class="tool-features">
                    <li>Consultazione tabelle aggiornate</li>
                    <li>Analisi casi simili</li>
                    <li>Valutazione elementi di prova</li>
                    <li>Stima orientativa personalizzata</li>
                </ul>
                <button class="tool-button">
                    <i class="fas fa-chart-line"></i> Richiedi Valutazione
                </button>
            </div>

            <div class="tool-card" onclick="openConsultation('ricerca-giurisprudenza')" tabindex="0" role="button" aria-label="Strumento: Ricerca Giurisprudenziale">
                <i class="fas fa-search tool-icon"></i>
                <h3 class="tool-title">Ricerca Giurisprudenziale</h3>
                <p class="tool-description">
                    Analisi di precedenti giurisprudenziali e orientamenti 
                    dei tribunali per casi analoghi.
                </p>
                <ul class="tool-features">
                    <li>Database sentenze aggiornato</li>
                    <li>Orientamenti consolidati</li>
                    <li>Analisi trend giurisprudenziali</li>
                    <li>Precedenti rilevanti</li>
                </ul>
                <button class="tool-button">
                    <i class="fas fa-gavel"></i> Consulta Database
                </button>
            </div>

            <div class="tool-card" onclick="openConsultation('preventivi-trasparenti')" tabindex="0" role="button" aria-label="Strumento: Preventivazione Trasparente">
                <i class="fas fa-euro-sign tool-icon"></i>
                <h3 class="tool-title">Preventivazione Trasparente</h3>
                <p class="tool-description">
                    Sistema di preventivazione chiaro e dettagliato per ogni tipo 
                    di attivitÃ  legale e procedurale.
                </p>
                <ul class="tool-features">
                    <li>Preventivi dettagliati e trasparenti</li>
                    <li>Stima costi procedurali</li>
                    <li>Piani di pagamento flessibili</li>
                    <li>Nessun costo nascosto</li>
                </ul>
                <button class="tool-button">
                    <i class="fas fa-receipt"></i> Richiedi Preventivo
                </button>
            </div>

            <div class="tool-card" onclick="openConsultation('supporto-documentale')" tabindex="0" role="button" aria-label="Strumento: Supporto Documentale">
                <i class="fas fa-folder-open tool-icon"></i>
                <h3 class="tool-title">Supporto Documentale</h3>
                <p class="tool-description">
                    Organizzazione e gestione documentale per una preparazione 
                    efficace del tuo caso legale.
                </p>
                <ul class="tool-features">
                    <li>Catalogazione documenti</li>
                    <li>Checklist personalizzate</li>
                    <li>Archiviazione sicura</li>
                    <li>Accesso protetto 24/7</li>
                </ul>
                <button class="tool-button">
                    <i class="fas fa-archive"></i> Organizza Documenti
                </button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="servizi" class="features">
        <div class="container">
            <div class="section-title">
                <h2>PerchÃ© scegliere il nostro studio</h2>
                <p>Competenza giuridica tradizionale potenziata da metodologie avanzate per risultati superiori</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <h3>Diritto Civile</h3>
                    <p>Contratti, responsabilitÃ  civile, diritto di famiglia con ricerca approfondita e analisi dettagliate per strategie efficaci.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Diritto Penale</h3>
                    <p>Difesa penale con ricerca giurisprudenziale esaustiva e preparazione strategica per la migliore tutela possibile.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h3>Diritto Amministrativo</h3>
                    <p>Rapporti con la PA, ricorsi e contenzioso con monitoraggio sistematico e procedure ottimizzate.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>Ricerca Approfondita</h3>
                    <p>Analisi giurisprudenziale estensiva e ricerca normativa accurata per fondare ogni strategia legale.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Efficienza Operativa</h3>
                    <p>Tempi di risposta ottimizzati e processi efficienti che permettono maggiore dedizione a ogni cliente.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Aggiornamento Continuo</h3>
                    <p>Formazione costante su evoluzioni normative e metodologie legali per un servizio sempre attuale.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services">
        <div class="container">
            <div class="section-title">
                <h2>I nostri servizi</h2>
                <p>Assistenza legale completa nelle principali aree del diritto</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-header">
                        <h3>Diritto Civile</h3>
                    </div>
                    <div class="service-content">
                        <p>Assistenza completa nel diritto civile con metodologie innovative</p>
                        <ul class="service-list">
                            <li>Contratti e responsabilitÃ  civile</li>
                            <li>Diritto di famiglia e successioni</li>
                            <li>Diritto immobiliare</li>
                            <li>Risarcimento danni</li>
                            <li>Mediazione e conciliazione</li>
                        </ul>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-header">
                        <h3>Diritto Penale</h3>
                    </div>
                    <div class="service-content">
                        <p>Difesa penale con analisi strategica avanzata</p>
                        <ul class="service-list">
                            <li>Assistenza nel procedimento penale</li>
                            <li>Difesa in dibattimento</li>
                            <li>Ricorsi in Cassazione</li>
                            <li>Revisione e riabilitazione</li>
                            <li>Diritto penale dell'economia</li>
                        </ul>
                    </div>
                </div>
                <div class="service-card">
                    <div class="service-header">
                        <h3>Diritto Amministrativo</h3>
                    </div>
                    <div class="service-content">
                        <p>Contenzioso amministrativo e rapporti con la PA</p>
                        <ul class="service-list">
                            <li>Ricorsi al TAR e Consiglio di Stato</li>
                            <li>Appalti e contratti pubblici</li>
                            <li>Procedimenti disciplinari</li>
                            <li>Autorizzazioni e concessioni</li>
                            <li>ResponsabilitÃ  della PA</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="chi-siamo" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>Avv. Andrea Grippo</h2>
                    <p><strong>Avvocato con oltre 25 anni di esperienza</strong> specializzato in Diritto Civile, Penale e Amministrativo con approccio moderno all'assistenza legale.</p>
                    <p>Lo studio si caratterizza per l'<strong>utilizzo di metodologie avanzate e strumenti professionali</strong> che consentono ricerche approfondite, analisi dettagliate e un servizio piÃ¹ efficiente nel pieno rispetto della tradizione forense.</p>
                    <p><strong>Formazione continua e aggiornamento costante</strong> sulle evoluzioni normative e sui moderni strumenti di lavoro legale per garantire sempre la migliore assistenza possibile.</p>
                    
                    <div style="background: linear-gradient(135deg, #00a651 0%, #0a1628 100%); color: white; padding: 1.5rem; border-radius: 8px; margin-top: 2rem;">
                        <h4 style="margin-bottom: 1rem; color: white;"><i class="fas fa-balance-scale"></i> Competenza e Innovazione</h4>
                        <p style="margin: 0; font-weight: 600;">Un quarto di secolo di esperienza legale potenziata da metodologie moderne</p>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">25+</span>
                        <span class="stat-label">Anni Esperienza</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">3</span>
                        <span class="stat-label">Aree Competenza</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">24/7</span>
                        <span class="stat-label">ReperibilitÃ </span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">2025</span>
                        <span class="stat-label">Metodologie Aggiornate</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contatti" class="contact">
        <div class="container">
            <div class="section-title">
                <h2 style="color: white;">Contatti</h2>
                <p style="color: rgba(255,255,255,0.9);">Richiedi una consulenza per valutare la strategia legale piÃ¹ adatta al tuo caso</p>
            </div>
            <div class="contact-grid">
                <div class="contact-form">
                    <h3>Richiedi Consulenza Legale</h3>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="nome">Nome e Cognome *</label>
                            <input type="text" id="nome" name="nome" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email *</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="telefono">Telefono</label>
                            <input type="tel" id="telefono" name="telefono">
                        </div>
                        <div class="form-group">
                            <label for="servizio">Area di Interesse</label>
                            <select id="servizio" name="servizio">
                                <option value="">Seleziona...</option>
                                <option value="civile">Diritto Civile</option>
                                <option value="penale">Diritto Penale</option>
                                <option value="amministrativo">Diritto Amministrativo</option>
                                <option value="consulenza-generale">Consulenza Generale</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="messaggio">Descrizione del Caso</label>
                            <textarea id="messaggio" name="messaggio" placeholder="Descrivi brevemente la questione legale..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" name="privacy" required style="width: 16px; height: 16px; margin-right: 8px;"> 
                                Acconsento al trattamento dei dati personali secondo la Privacy Policy
                            </label>
                        </div>
                        <button type="submit" class="btn-primary" style="width: 100%;">
                            <i class="fas fa-paper-plane"></i>
                            Invia Richiesta
                        </button>
                    </form>
                </div>
                <div class="contact-info">
                    <h3>Informazioni di contatto</h3>
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>
                            <strong>Studio Legale Grippo</strong><br>
                            Via Irno, 2<br>
                            84131 Salerno (SA), Italia
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <div>
                            <strong>Telefono</strong><br>
                            <a href="tel:0892868938" style="color: white;">089 2868938</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <div>
                            <strong>Email</strong><br>
                            <a href="mailto:info@studiolegalegrippo.it" style="color: white;">info@studiolegalegrippo.it</a>
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <strong>Orari</strong><br>
                            Lun-Ven: 9:00-18:00<br>
                            Sab: Su appuntamento
                        </div>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-calendar-alt"></i>
                        <div>
                            <strong>Consulenze Urgenti</strong><br>
                            Disponibili per situazioni di emergenza
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Studio Legale Grippo</h4>
                    <p>Studio legale con oltre 25 anni di esperienza in diritto civile, penale e amministrativo. Metodologie moderne per un servizio professionale di eccellenza.</p>
                </div>
                <div class="footer-section">
                    <h4>Aree di competenza</h4>
                    <ul>
                        <li><a href="#servizi">Diritto Civile</a></li>
                        <li><a href="#servizi">Diritto Penale</a></li>
                        <li><a href="#servizi">Diritto Amministrativo</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Risorse</h4>
                    <ul>
                        <li><a href="#chi-siamo">Chi Siamo</a></li>
                        <li><a href="accessibilita.html">AccessibilitÃ </a></li>
                        <li><a href="metodologie-innovative.html">Approcci innovativi</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contatti</h4>
                    <ul>
                        <li><a href="tel:0892868938">089 2868938</a></li>
                        <li><a href="mailto:info@studiolegalegrippo.it">info@studiolegalegrippo.it</a></li>
                        <li>Via Irno, 2 - Salerno</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Studio Legale Avv. Andrea Grippo. Tutti i diritti riservati. | 
                   <a href="privacy-policy.html" style="color: rgba(255,255,255,0.8);">Privacy Policy</a> | 
                   <a href="cookie-policy.html" style="color: rgba(255,255,255,0.8);">Cookie Policy</a> | 
                   <a href="accessibilita.html" style="color: rgba(255,255,255,0.8);">AccessibilitÃ </a>
                </p>
                <p style="margin-top: 0.5rem; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                    Studio legale con metodologie innovative - Iscrizione Ordine Avvocati di Salerno
                </p>
            </div>
        </div>
    </footer>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <button class="chat-toggle pulse" onclick="openChat()" title="Assistenza Immediata">
            <i class="fas fa-comments"></i>
        </button>
    </div>

    <!-- Schema.org Markup per SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LegalService",
        "name": "Studio Legale Grippo",
        "description": "Studio legale con oltre 25 anni di esperienza in diritto civile, penale e amministrativo, specializzato in metodologie innovative e servizio professionale.",
        "url": "https://www.studiolegalegrippo.it",
        "telephone": "+39-089-2868938",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Via Irno, 2",
            "addressLocality": "Salerno",
            "postalCode": "84131",
            "addressCountry": "IT"
        },
        "openingHours": "Mo-Fr 09:00-18:00",
        "priceRange": "â¬â¬",
        "areaServed": [
            "Salerno",
            "Campania", 
            "Basilicata",
            "Italia"
        ],
        "serviceType": [
            "Diritto Civile",
            "Diritto Penale", 
            "Diritto Amministrativo",
            "Diritto Commerciale"
        ],
        "founder": {
            "@type": "Person",
            "name": "Andrea Grippo",
            "jobTitle": "Avvocato"
        }
    }
    </script>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        const mobileToggle = document.querySelector('.mobile-menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        
        if (mobileToggle) {
            mobileToggle.addEventListener('click', function() {
                navMenu.classList.toggle('active');
                this.classList.toggle('active');
            });
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Contact form
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Richiesta inviata con successo! Ti contatteremo entro 24 ore.');
            this.reset();
        });

        // Chat Widget
        window.openChat = function() {
            openAIChat();
        }

        // Funzione per aprire il chatbot AI
        window.openAIChat = function() {
            const modal = document.getElementById('aiChatModal');
            if (modal) {
                modal.style.display = 'block';
                return;
            }

            const modalHTML = document.createElement('div');
            modalHTML.id = 'ai-chat-modal';
            modalHTML.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 400px;
                height: 600px;
                background: white;
                border-radius: 20px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                z-index: 10000;
                display: flex;
                flex-direction: column;
                animation: slideUp 0.3s ease;
            `;
            
            modalHTML.innerHTML = `
                <div style="background: linear-gradient(135deg, #0a1628 0%, #1e3a5f 100%); color: white; padding: 20px; border-radius: 20px 20px 0 0; display: flex; justify-content: space-between; align-items: center;">
                    <h3 style="margin: 0; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-robot" style="color: #ffd700;"></i>
                        Assistente AI Legale
                    </h3>
                    <button onclick="closeModal('ai-chat-modal')" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">&times;</button>
                </div>
                <div id="chat-messages" style="flex: 1; overflow-y: auto; padding: 20px; background: #f8f9fa;">
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 3rem; margin-bottom: 20px;">ð¤</div>
                        <h4 style="color: #0a1628;">Ciao! Sono l'assistente AI dello Studio Grippo</h4>
                        <p style="color: #666;">Come posso aiutarti oggi?</p>
                        <div style="margin-top: 20px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                            <button onclick="sendQuickQuestion('Quali sono i termini per un risarcimento danni?')" style="background: white; border: 1px solid #ddd; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9rem;">
                                ð Termini risarcimento
                            </button>
                            <button onclick="sendQuickQuestion('Come funziona una consulenza legale?')" style="background: white; border: 1px solid #ddd; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9rem;">
                                ð¼ Info consulenza
                            </button>
                            <button onclick="sendQuickQuestion('Quali documenti servono per il mio caso?')" style="background: white; border: 1px solid #ddd; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9rem;">
                                ð Documenti necessari
                            </button>
                        </div>
                    </div>
                </div>
                <form onsubmit="handleChatSubmit(event)" style="padding: 20px; border-top: 1px solid #eee; background: white; border-radius: 0 0 20px 20px;">
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="chat-input" placeholder="Scrivi la tua domanda..." style="flex: 1; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem;" required>
                        <button type="submit" style="background: #00a651; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </form>
            `;
            
            document.body.appendChild(modalHTML);
        }

        window.closeModal = function(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.remove();
            }
        }

        window.handleChatSubmit = function(event) {
            event.preventDefault();
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            // Aggiungi risposta AI
            setTimeout(() => {
                addAIResponse(message);
            }, 1000);
        }

        window.sendQuickQuestion = function(question) {
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.value = question;
                handleChatSubmit(new Event('submit'));
            }
        }

        window.addUserMessage = function(message) {
            const chatMessages = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = 'display: flex; justify-content: flex-end; margin-bottom: 15px;';
            messageDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #0a1628 0%, #1e3a5f 100%); color: white; padding: 15px; border-radius: 15px; max-width: 80%; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                    <p style="margin: 0;">${message}</p>
                </div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        window.addAIResponse = async function(userMessage) {
            const chatMessages = document.getElementById('chat-messages');
            const responseDiv = document.createElement('div');
            responseDiv.className = 'ai-message';
            responseDiv.style.cssText = 'background: white; padding: 15px; border-radius: 15px; margin-bottom: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);';
            
            // Genera risposta basata sulla domanda
            let response = await generateAIResponse(userMessage);
            
            responseDiv.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <i class="fas fa-robot" style="color: #ffd700; font-size: 1.2rem;"></i>
                    <strong style="color: #0a1628;">Assistente AI</strong>
                </div>
                <div style="margin: 0; line-height: 1.6;">${response}</div>
            `;
            
            chatMessages.appendChild(responseDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        window.generateAIResponse = async function(message) {
            // PROTEZIONE ANTI-SPAM
            const today = new Date().toDateString();
            const userQuestions = localStorage.getItem('questions_' + today) || 0;
            
            if (userQuestions > 1) {
                return `
                    <div style="background: #e8f4fd; padding: 20px; border-radius: 10px; border-left: 4px solid #2196f3;">
                        <p>ð¡ <strong>Grazie per il tuo interesse!</strong></p>
                        <p>Hai giÃ  ricevuto 1 consulenza preliminare oggi. Per un parere legale approfondito sul tuo caso specifico:</p>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>ð <strong>Contattaci</strong> per valutare la tua situazione</li>
                            <li>ð¬ <strong>Descrivi il tuo caso</strong> via WhatsApp</li>
                            <li>ð <strong>Prenota un appuntamento</strong> presso lo studio</li>
                        </ul>
                        <div style="text-align: center; margin-top: 15px;">
                            <p style="margin-bottom: 10px;">ð <strong>Telefono:</strong> 089 2868938</p>
                            <p style="margin-bottom: 15px;">ð¬ <strong>WhatsApp:</strong> 347 5301151</p>
                            <button onclick="window.location.href='tel:0892868938'" style="background: #2196f3; color: white; border: none; padding: 12px 25px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-right: 10px;">
                                ð Chiama per Consulenza
                            </button>
                            <button onclick="window.open('https://wa.me/3475301151?text=Salve, ho consultato il chatbot del sito e vorrei una consulenza legale per il mio caso', '_blank')" style="background: #25d366; color: white; border: none; padding: 12px 25px; border-radius: 8px; font-weight: 600; cursor: pointer;">
                                ð¬ Scrivi su WhatsApp
                            </button>
                        </div>
                    </div>
                `;
            }
            
            // Incrementa contatore
            localStorage.setItem('questions_' + today, parseInt(userQuestions) + 1);
            
            const chatMessages = document.getElementById('chat-messages');
            
            // Mostra "sta scrivendo..."
            const typingDiv = document.createElement('div');
            typingDiv.innerHTML = '<div style="padding: 15px; color: #666;"><i class="fas fa-circle-notch fa-spin"></i> Sto analizzando la tua domanda...</div>';
            chatMessages.appendChild(typingDiv);
            
            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        messaggio: message 
                    })
                });
                
                const data = await response.json();
                typingDiv.remove();
                
                if (data.choices && data.choices[0]) {
                    let aiResponse = data.choices[0].message.content;
                    
                    aiResponse += `
                        <div style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; text-align: center;">
                            <button onclick="window.location.href='tel:0892868938'" style="background: #00a651; color: white; border: none; padding: 10px 20px; border-radius: 5px; font-weight: 600; cursor: pointer;">
                                ð Consulenza: 089 2868938
                            </button>
                        </div>
                    `;
                    
                    return aiResponse;
                }
                
            } catch (error) {
                console.error('Errore:', error);
                typingDiv.remove();
                return 'Mi dispiace, errore tecnico. Chiama direttamente: 089 2868938';
            }
        }

        // Funzione per aprire consultation form
        function openConsultation(service) {
            showConsultationForm(service);
        }

        function showConsultationForm(service) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: fadeIn 0.3s ease-out;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 40px; border-radius: 20px; max-width: 500px; position: relative; max-height: 90vh; overflow-y: auto;">
                    <button onclick="this.parentElement.parentElement.remove()" style="position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>
                    
                    <h3 style="color: #0a1628; margin-bottom: 20px; text-align: center;">
                        ð Prenota prima consulenza
                    </h3>
                    
                    <p style="margin-bottom: 20px; color: #666; text-align: center;">
                        Servizio richiesto: <strong>${getServiceName(service)}</strong>
                    </p>
                    
                    <form onsubmit="submitConsultation(event, '${service}')">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Nome e Cognome *</label>
                            <input type="text" name="nome" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Email *</label>
                            <input type="email" name="email" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Telefono *</label>
                            <input type="tel" name="telefono" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px;">
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px; font-weight: 600; color: #333;">Breve descrizione della questione</label>
                            <textarea name="descrizione" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; resize: vertical; font-size: 14px;" placeholder="Descrivi brevemente la tua situazione..."></textarea>
                        </div>
                        
                        <div style="margin-bottom: 20px;">
                            <label style="display: flex; align-items: flex-start; gap: 8px; font-size: 0.9rem; color: #333; cursor: pointer;">
                                <input type="checkbox" name="privacy" required style="
                                    width: 18px; 
                                    height: 18px; 
                                    border: 2px solid #0a1628; 
                                    border-radius: 3px;
                                    background: white;
                                    cursor: pointer;
                                    margin: 0;
                                    flex-shrink: 0;
                                    appearance: none;
                                    -webkit-appearance: none;
                                    position: relative;
                                " onchange="this.style.backgroundColor = this.checked ? '#00a651' : 'white'; this.style.borderColor = this.checked ? '#00a651' : '#0a1628';">
                                <span style="line-height: 1.4;">Accetto l'<a href="#privacy" style="color: #0a1628;">informativa privacy</a> e autorizzo il trattamento dei dati per la finalitÃ  richiesta</span>
                            </label>
                        </div>
                        
                        <div style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-size: 0.9rem; color: #666;">
                            <strong>Informativa:</strong> La prima consulenza Ã¨ finalizzata alla valutazione preliminare del caso. 
                            Non costituisce parere legale definitivo nÃ© garanzia di risultato, come previsto dal Codice Deontologico Forense.
                        </div>
                        
                        <button type="submit" style="width: 100%; background: linear-gradient(135deg, #0a1628 0%, #1e3a5f 100%); color: white; border: none; padding: 15px; border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 16px;">
                            ð Prenota Consulenza
                        </button>
                    </form>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function getServiceName(service) {
            const serviceNames = {
                'analisi-documenti': 'Analisi documentale',
                'calcolo-risarcimenti': 'Valutazione risarcimenti',
                'ricerca-giurisprudenza': 'Ricerca giurisprudenziale',
                'pianificazione-procedurale': 'Pianificazione procedurale',
                'preventivi-trasparenti': 'Preventivazione trasparente',
                'supporto-documentale': 'Supporto documentale'
            };
            return serviceNames[service] || 'Consulenza generale';
        }

        window.submitConsultation = function(event, service) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = {
                service: service,
                nome: formData.get('nome'),
                email: formData.get('email'),
                telefono: formData.get('telefono'),
                descrizione: formData.get('descrizione'),
                timestamp: new Date().toISOString()
            };
            
            // Determina quale endpoint Formspree usare
            let formEndpoint;
            switch(service) {
                case 'analisi-documenti': 
                    formEndpoint = 'https://formspree.io/f/meokvzra'; 
                    break;
                case 'calcolo-risarcimenti': 
                    formEndpoint = 'https://formspree.io/f/xovwylkd'; 
                    break;
                case 'ricerca-giurisprudenza': 
                    formEndpoint = 'https://formspree.io/f/mgvyrzny'; 
                    break;
                case 'pianificazione-procedurale': 
                    formEndpoint = 'https://formspree.io/f/mpwrklyl'; 
                    break;
                case 'preventivi-trasparenti': 
                    formEndpoint = 'https://formspree.io/f/mvgrdqww'; 
                    break;
                default: 
                    formEndpoint = 'https://formspree.io/f/meokvzra';
            }

            // Invia email vera tramite Formspree
            fetch(formEndpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    email: data.email,
                    nome: data.nome,
                    telefono: data.telefono,
                    servizio: getServiceName(service),
                    descrizione: data.descrizione,
                    _subject: `Nuova prenotazione: ${getServiceName(service)}`,
                    _autoresponse: 'Grazie per la tua richiesta. Ti contatteremo entro 24 ore.'
                })
            }).then(response => {
                if (response.ok) {
                    console.log('Email inviata con successo!');
                } else {
                    console.error('Errore invio email');
                }
            }).catch(error => {
                console.error('Errore:', error);
            });
            
            event.target.parentElement.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 3rem; color: #4CAF50; margin-bottom: 20px;">&#10003;</div>
                    <h3 style="color: #0a1628; margin-bottom: 15px;">Prenotazione ricevuta!</h3>
                    <p style="color: #666; margin-bottom: 20px;">
                        Ti contatteremo entro <strong>24 ore lavorative</strong> per confermare 
                        l'appuntamento e fornirti tutte le informazioni necessarie.
                    </p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: left;">
                        <strong>Prossimi passi:</strong><br>
                        1. Riceverai email di conferma<br>
                        2. Ti contatteremo per fissare data/ora<br>
                        3. Ti invieremo promemoria dell'appuntamento
                    </div>
                    <button onclick="var modal = this.parentElement; while(modal && modal.style.position !== 'fixed') { modal = modal.parentElement; } if(modal) modal.remove();" style="background: #4CAF50; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer;">
                        Chiudi
                    </button>
                </div>
            `;
        }
    </script>
</body>
</html>
